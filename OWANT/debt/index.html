<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
<title>ëŒ€ì¶œë¶„ì„ | ì˜¤ì›íŠ¸ê¸ˆìœµì—°êµ¬ì†Œ</title>
<meta property="og:title" content="ë‚´ ëŒ€ì¶œ, ì´ëŒ€ë¡œ ê´œì°®ì„ê¹Œ?">
<meta property="og:description" content="3ë¶„ì´ë©´ ëŒ€ì¶œ ìƒí™˜ ì „ëµì´ ë³´ì…ë‹ˆë‹¤ â€” CFP ì˜¤ìƒì—´">
<meta property="og:type" content="website">
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">
<style>
:root{--pri:#1e3a5f;--acc:#e74c3c;--teal:#0d9488;--gold:#d4a853;--bg:#f4f6f8;--card:#fff;--txt:#333;--sub:#888;--border:#e5e7eb;}
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:'Noto Sans KR',sans-serif;background:var(--bg);-webkit-font-smoothing:antialiased;}
.wrap{max-width:480px;margin:0 auto;background:var(--bg);min-height:100vh;}
.hero{background:linear-gradient(135deg,#1e3a5f 0%,#2c5282 50%,#1a365d 100%);padding:40px 20px 30px;text-align:center;position:relative;overflow:hidden;}
.hero::before{content:'';position:absolute;top:-30%;right:-20%;width:200px;height:200px;background:radial-gradient(circle,rgba(231,76,60,0.15),transparent 70%);border-radius:50%;}
.hero-badge{display:inline-block;background:rgba(255,255,255,0.15);border:1px solid rgba(255,255,255,0.2);padding:6px 16px;border-radius:20px;font-size:12px;color:rgba(255,255,255,0.9);font-weight:600;margin-bottom:12px;}
.hero h1{font-size:24px;font-weight:900;color:#fff;line-height:1.4;margin-bottom:8px;}
.hero h1 em{font-style:normal;color:#fbbf24;}
.hero p{font-size:14px;color:rgba(255,255,255,0.8);line-height:1.6;}
.hero-stat{display:flex;justify-content:center;gap:20px;margin-top:16px;}
.hero-stat div{text-align:center;}
.hero-stat .num{font-size:20px;font-weight:900;color:#fbbf24;}
.hero-stat .lbl{font-size:10px;color:rgba(255,255,255,0.7);margin-top:2px;}

/* í”„ë¡œê·¸ë ˆìŠ¤ */
.progress-bar{background:#fff;padding:12px 20px;border-bottom:1px solid var(--border);position:sticky;top:0;z-index:10;}
.progress-inner{display:flex;align-items:center;gap:8px;}
.progress-track{flex:1;height:6px;background:#e5e7eb;border-radius:3px;overflow:hidden;}
.progress-fill{height:100%;background:linear-gradient(90deg,var(--teal),#14b8a6);border-radius:3px;transition:width 0.5s ease;}
.progress-text{font-size:11px;font-weight:700;color:var(--teal);min-width:36px;text-align:right;}

/* ì„¹ì…˜ */
.section{padding:16px 20px;display:none;}
.section.active{display:block;}
.section-title{font-size:16px;font-weight:800;color:var(--txt);margin-bottom:4px;display:flex;align-items:center;gap:6px;}
.section-desc{font-size:12px;color:var(--sub);margin-bottom:16px;}

/* ì…ë ¥ ì¹´ë“œ */
.input-card{background:var(--card);border-radius:16px;padding:20px;margin-bottom:12px;box-shadow:0 2px 8px rgba(0,0,0,0.04);border:1px solid var(--border);}
.input-card h3{font-size:14px;font-weight:700;color:var(--txt);margin-bottom:12px;display:flex;align-items:center;gap:6px;}
.field{margin-bottom:12px;}
.field:last-child{margin-bottom:0;}
.field label{display:block;font-size:12px;font-weight:600;color:#555;margin-bottom:4px;}
.field-row{display:flex;gap:10px;}
.field-row .field{flex:1;margin-bottom:0;}
.input-wrap{position:relative;}
.input-wrap input{width:100%;padding:12px 40px 12px 14px;border:1.5px solid var(--border);border-radius:10px;font-size:15px;font-family:inherit;outline:none;transition:border 0.2s;}
.input-wrap input:focus{border-color:var(--teal);}
.input-wrap .suffix{position:absolute;right:12px;top:50%;transform:translateY(-50%);font-size:13px;color:var(--sub);}

/* ê²°ê³¼ ì¹´ë“œ */
.result-card{background:linear-gradient(135deg,#f0fdf4,#ecfdf5);border:1px solid #bbf7d0;border-radius:14px;padding:16px;margin-bottom:12px;}
.result-card.warning{background:linear-gradient(135deg,#fef2f2,#fff1f2);border-color:#fecaca;}
.result-title{font-size:12px;font-weight:700;color:var(--teal);margin-bottom:10px;display:flex;align-items:center;gap:5px;}
.result-card.warning .result-title{color:var(--acc);}
.result-row{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px dashed #d1fae5;}
.result-row:last-child{border-bottom:none;}
.result-card.warning .result-row{border-color:#fecaca;}
.rr-label{font-size:12px;color:#555;}
.rr-value{font-size:14px;font-weight:700;color:var(--txt);}
.rr-value.danger{color:var(--acc);}
.rr-value.success{color:var(--teal);}
.rr-value.highlight{color:var(--pri);font-size:16px;}

/* ì¸ì‚¬ì´íŠ¸ ë°•ìŠ¤ */
.insight{background:#eff6ff;border-radius:10px;padding:12px;margin-bottom:12px;display:flex;gap:8px;align-items:flex-start;}
.insight.amber{background:#fffbeb;}
.insight-icon{font-size:16px;flex-shrink:0;margin-top:1px;}
.insight-text{font-size:12px;color:#1e40af;line-height:1.6;}
.insight.amber .insight-text{color:#92400e;}
.insight-text b{font-weight:700;}

/* ë¸”ëŸ¬ ì˜¤ë²„ë ˆì´ */
.blur-wrap{position:relative;}
.blur-content{filter:blur(6px);pointer-events:none;user-select:none;}
.blur-overlay{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:rgba(255,255,255,0.7);border-radius:14px;z-index:2;}
.blur-overlay p{font-size:14px;font-weight:700;color:var(--pri);margin-bottom:8px;}
.blur-overlay .lock-icon{font-size:32px;margin-bottom:8px;}

/* DB ìˆ˜ì§‘ í¼ */
.db-form{background:var(--card);border-radius:16px;padding:20px;margin-bottom:12px;box-shadow:0 2px 8px rgba(0,0,0,0.04);border:1px solid var(--border);}
.db-form h3{font-size:14px;font-weight:700;color:var(--txt);margin-bottom:4px;display:flex;align-items:center;gap:6px;}
.db-form .sub{font-size:11px;color:var(--sub);margin-bottom:14px;}

/* ë²„íŠ¼ */
.btn{width:100%;padding:14px;border:none;border-radius:12px;font-size:15px;font-weight:700;font-family:inherit;cursor:pointer;transition:all 0.2s;}
.btn-primary{background:linear-gradient(135deg,var(--teal),#14b8a6);color:#fff;box-shadow:0 4px 12px rgba(13,148,136,0.3);}
.btn-primary:hover{transform:translateY(-1px);box-shadow:0 6px 16px rgba(13,148,136,0.4);}
.btn-primary:disabled{background:#d1d5db;color:#9ca3af;box-shadow:none;transform:none;cursor:not-allowed;}
.btn-gold{background:linear-gradient(135deg,#d4a853,#c9952e);color:#fff;box-shadow:0 4px 12px rgba(212,168,83,0.3);}
.btn-outline{background:#fff;color:var(--teal);border:1.5px solid var(--teal);}
.btn-gray{background:#f3f4f6;color:#555;}
.btn-row{display:flex;gap:8px;margin-top:12px;}
.btn-row .btn{flex:1;}

/* ë¦¬í¬íŠ¸ ì§€ì‹ ì„¹ì…˜ */
.knowledge{background:var(--card);border-radius:16px;padding:20px;margin-bottom:12px;box-shadow:0 2px 8px rgba(0,0,0,0.04);border:1px solid var(--border);}
.knowledge h3{font-size:14px;font-weight:700;margin-bottom:12px;display:flex;align-items:center;gap:6px;}
.knowledge-item{padding:10px 0;border-bottom:1px solid #f3f4f6;}
.knowledge-item:last-child{border-bottom:none;}
.knowledge-item .ki-q{font-size:13px;font-weight:700;color:var(--pri);margin-bottom:4px;}
.knowledge-item .ki-a{font-size:12px;color:#555;line-height:1.7;}

/* ì™„ë£Œ CTA */
.complete-section{text-align:center;padding:30px 20px;}
.complete-icon{font-size:48px;margin-bottom:12px;}
.complete-title{font-size:18px;font-weight:800;color:var(--pri);margin-bottom:6px;}
.complete-desc{font-size:13px;color:var(--sub);margin-bottom:20px;line-height:1.6;}
.cta-cards{display:flex;flex-direction:column;gap:10px;margin-bottom:16px;}

/* ë©´ì±… */
.disclaimer{font-size:10px;color:#aaa;text-align:center;padding:12px 20px 30px;line-height:1.6;}

/* ì• ë‹ˆë©”ì´ì…˜ */
@keyframes fadeIn{from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:translateY(0);}}
.fade-in{animation:fadeIn 0.4s ease forwards;}
</style>
</head>
<body>
<div class="wrap">

<!-- íˆì–´ë¡œ -->
<div class="hero">
  <div class="hero-badge">ğŸ’³ 3ë¶„ ë¬´ë£Œ ëŒ€ì¶œë¶„ì„</div>
  <h1>ë‚´ ëŒ€ì¶œ,<br>ì´ëŒ€ë¡œ <em>ê´œì°®ì„ê¹Œ?</em></h1>
  <p>ëŒ€ì¶œ ìƒí™˜ ì „ëµ í•˜ë‚˜ë¡œ<br>ìˆ˜ì²œë§Œì› ì´ìë¥¼ ì•„ë‚„ ìˆ˜ ìˆìŠµë‹ˆë‹¤</p>
  <div class="hero-stat">
    <div><div class="num">20ë…„</div><div class="lbl">CFP ê²½ë ¥</div></div>
    <div><div class="num">2,000+</div><div class="lbl">ìƒë‹´ ì‹¤ì </div></div>
    <div><div class="num">3ë¶„</div><div class="lbl">ì†Œìš”ì‹œê°„</div></div>
  </div>
</div>

<!-- í”„ë¡œê·¸ë ˆìŠ¤ -->
<div class="progress-bar">
  <div class="progress-inner">
    <div class="progress-track"><div class="progress-fill" id="progFill" style="width:25%"></div></div>
    <div class="progress-text" id="progText">1/4</div>
  </div>
</div>

<!-- STEP 1: ì…ë ¥ -->
<div class="section active" id="step1">
  <div class="section-title">ğŸ’³ ëŒ€ì¶œ ì •ë³´ ì…ë ¥</div>
  <div class="section-desc">í˜„ì¬ ëŒ€ì¶œ í˜„í™©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”</div>
  
  <div class="input-card">
    <h3>ğŸ¦ ë‹´ë³´ëŒ€ì¶œ (ì£¼íƒë‹´ë³´ ë“±)</h3>
    <div class="field-row">
      <div class="field">
        <label>ëŒ€ì¶œ ì”ì•¡</label>
        <div class="input-wrap">
          <input type="number" id="mortBal" placeholder="35000" value="">
          <span class="suffix">ë§Œì›</span>
        </div>
      </div>
      <div class="field">
        <label>ëŒ€ì¶œ ê¸ˆë¦¬</label>
        <div class="input-wrap">
          <input type="number" id="mortRate" placeholder="4.5" step="0.1" value="">
          <span class="suffix">%</span>
        </div>
      </div>
    </div>
  </div>

  <div class="input-card">
    <h3>ğŸ’³ ì‹ ìš©ëŒ€ì¶œ</h3>
    <div class="field-row">
      <div class="field">
        <label>ëŒ€ì¶œ ì”ì•¡</label>
        <div class="input-wrap">
          <input type="number" id="credBal" placeholder="5000" value="">
          <span class="suffix">ë§Œì›</span>
        </div>
      </div>
      <div class="field">
        <label>ëŒ€ì¶œ ê¸ˆë¦¬</label>
        <div class="input-wrap">
          <input type="number" id="credRate" placeholder="6.5" step="0.1" value="">
          <span class="suffix">%</span>
        </div>
      </div>
    </div>
  </div>

  <div class="input-card">
    <h3>ğŸ’° ìƒí™˜ ëŠ¥ë ¥</h3>
    <div class="field-row">
      <div class="field">
        <label>ì›” ì†Œë“ (ì„¸í›„)</label>
        <div class="input-wrap">
          <input type="number" id="monthIncome" placeholder="520" value="">
          <span class="suffix">ë§Œì›</span>
        </div>
      </div>
      <div class="field">
        <label>ì›” ìƒí™˜ ê°€ëŠ¥ ê¸ˆì•¡</label>
        <div class="input-wrap">
          <input type="number" id="monthPay" placeholder="150" value="">
          <span class="suffix">ë§Œì›</span>
        </div>
      </div>
    </div>
  </div>

  <button class="btn btn-primary" onclick="analyze()">ğŸ“Š ëŒ€ì¶œ ë¶„ì„í•˜ê¸°</button>
</div>

<!-- STEP 2: 1/2 ê²°ê³¼ (í‹°ì €) -->
<div class="section" id="step2">
  <div class="section-title">ğŸ“Š ëŒ€ì¶œ ë¶„ì„ ê²°ê³¼</div>
  <div class="section-desc">í˜„ì¬ ëŒ€ì¶œ í˜„í™©ì„ ë¶„ì„í–ˆìŠµë‹ˆë‹¤</div>

  <div class="result-card" id="resultBasic"></div>

  <div class="insight" id="insightDsr"></div>

  <!-- ë¸”ëŸ¬ ì²˜ë¦¬ëœ ì‹¬í™” ë¶„ì„ -->
  <div class="blur-wrap">
    <div class="blur-overlay">
      <div class="lock-icon">ğŸ”’</div>
      <p>ì‹¬í™” ë¶„ì„ ê²°ê³¼ ë³´ê¸°</p>
      <button class="btn btn-primary" style="width:auto;padding:10px 24px;font-size:13px;" onclick="showStep(3)">ë¬´ë£Œë¡œ í™•ì¸í•˜ê¸° â†’</button>
    </div>
    <div class="blur-content">
      <div class="result-card">
        <div class="result-title">ğŸ¯ ìµœì  ìƒí™˜ ì „ëµ</div>
        <div class="result-row"><span class="rr-label">1ìˆœìœ„ ìƒí™˜ ëŒ€ìƒ</span><span class="rr-value">ì‹ ìš©ëŒ€ì¶œ (ê³ ê¸ˆë¦¬)</span></div>
        <div class="result-row"><span class="rr-label">ì—°ê°„ ì´ì ì ˆê°</span><span class="rr-value">ì•½ 325ë§Œì›</span></div>
        <div class="result-row"><span class="rr-label">ì´ ì´ì ì ˆê° íš¨ê³¼</span><span class="rr-value highlight">ì•½ 3,250ë§Œì›</span></div>
      </div>
    </div>
  </div>
</div>

<!-- STEP 3: DB ìˆ˜ì§‘ -->
<div class="section" id="step3">
  <div class="section-title">ğŸ“‹ ì‹¬í™” ë¶„ì„ ê²°ê³¼ ë°›ê¸°</div>
  <div class="section-desc">ì•„ë˜ ì •ë³´ë¥¼ ì…ë ¥í•˜ì‹œë©´ ìƒì„¸ ë¶„ì„ ê²°ê³¼ë¥¼ ë³´ì—¬ë“œë¦½ë‹ˆë‹¤</div>

  <div class="db-form">
    <h3>ğŸ“© ë¶„ì„ ê²°ê³¼ ë°›ì„ ì •ë³´</h3>
    <div class="sub">ì´ë©”ì¼ê³¼ ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ìƒì„¸ ë¦¬í¬íŠ¸ë¥¼ ë³´ë‚´ë“œë¦½ë‹ˆë‹¤</div>
    <div class="field">
      <label>ì´ë¦„</label>
      <div class="input-wrap"><input type="text" id="userName" placeholder="í™ê¸¸ë™"></div>
    </div>
    <div class="field">
      <label>ì„±ë³„</label>
      <div style="display:flex;gap:8px;">
        <button class="btn btn-outline" id="gM" onclick="setGender('ë‚¨')" style="flex:1;padding:10px;font-size:13px;">ë‚¨ì„±</button>
        <button class="btn btn-outline" id="gF" onclick="setGender('ì—¬')" style="flex:1;padding:10px;font-size:13px;">ì—¬ì„±</button>
      </div>
    </div>
    <div class="field">
      <label>ì „í™”ë²ˆí˜¸</label>
      <div class="input-wrap"><input type="tel" id="userPhone" placeholder="010-1234-5678"></div>
    </div>
    <div class="field">
      <label>ì´ë©”ì¼</label>
      <div class="input-wrap"><input type="email" id="userEmail" placeholder="example@email.com"></div>
    </div>
  </div>

  <button class="btn btn-primary" onclick="submitDB()">ğŸ”“ ì‹¬í™” ë¶„ì„ ê²°ê³¼ ë³´ê¸°</button>
</div>

<!-- STEP 4: ë‚˜ë¨¸ì§€ 1/2 ê²°ê³¼ + ë¦¬í¬íŠ¸ + ì™„ë£Œ -->
<div class="section" id="step4">
  <div class="section-title">ğŸ¯ ìµœì  ìƒí™˜ ì „ëµ ë¶„ì„</div>
  <div class="section-desc">CFP ì˜¤ìƒì—´ì˜ ëŒ€ì¶œ ìƒí™˜ ì „ëµ ì œì•ˆì…ë‹ˆë‹¤</div>

  <div class="result-card" id="resultStrategy"></div>
  <div class="result-card" id="resultTimeline"></div>
  <div class="insight" id="insightAI"></div>

  <!-- ì§€ì‹ ë¦¬í¬íŠ¸ -->
  <div class="knowledge">
    <h3>ğŸ“š ëŒ€ì¶œ ìƒí™˜ í•„ìˆ˜ ì§€ì‹</h3>
    <div class="knowledge-item">
      <div class="ki-q">Q. ì‹ ìš©ëŒ€ì¶œê³¼ ë‹´ë³´ëŒ€ì¶œ, ì–´ëŠ ê²ƒì„ ë¨¼ì € ê°šì•„ì•¼ í• ê¹Œ?</div>
      <div class="ki-a">ê¸ˆë¦¬ê°€ ë†’ì€ ì‹ ìš©ëŒ€ì¶œì„ ë¨¼ì € ìƒí™˜í•˜ëŠ” ê²ƒì´ ì›ì¹™ì…ë‹ˆë‹¤. ì‹ ìš©ëŒ€ì¶œ ê¸ˆë¦¬ëŠ” ë³´í†µ 5~8%ë¡œ ë‹´ë³´ëŒ€ì¶œ(3~5%)ë³´ë‹¤ ë†’ì•„ ê°™ì€ ê¸ˆì•¡ì„ ìƒí™˜í•´ë„ ì´ì ì ˆê° íš¨ê³¼ê°€ í›¨ì”¬ í½ë‹ˆë‹¤. ì´ë¥¼ "ëˆˆë©ì´ ìƒí™˜ë²•(Debt Avalanche)"ì´ë¼ í•©ë‹ˆë‹¤.</div>
    </div>
    <div class="knowledge-item">
      <div class="ki-q">Q. DSRì´ë€ ë¬´ì—‡ì´ê³  ì™œ ì¤‘ìš”í•œê°€?</div>
      <div class="ki-a">DSR(ì´ë¶€ì±„ì›ë¦¬ê¸ˆìƒí™˜ë¹„ìœ¨)ì€ ì—°ì†Œë“ ëŒ€ë¹„ ì—°ê°„ ëŒ€ì¶œ ì›ë¦¬ê¸ˆ ìƒí™˜ì•¡ì˜ ë¹„ìœ¨ì…ë‹ˆë‹¤. DSR 40% ì´í•˜ê°€ ê±´ì „í•œ ìˆ˜ì¤€ì´ë©°, ì´ë¥¼ ì´ˆê³¼í•˜ë©´ ì¶”ê°€ ëŒ€ì¶œì´ ì–´ë µê³  ê°€ê³„ ì¬ì • ì••ë°•ì´ ì‹¬í•´ì§‘ë‹ˆë‹¤. ê¸ˆìœµë‹¹êµ­ë„ DSR 40% ê·œì œë¥¼ ì‹œí–‰ ì¤‘ì…ë‹ˆë‹¤.</div>
    </div>
    <div class="knowledge-item">
      <div class="ki-q">Q. ëŒ€í™˜ëŒ€ì¶œ(ê°ˆì•„íƒ€ê¸°)ì€ ì–¸ì œ ìœ ë¦¬í•œê°€?</div>
      <div class="ki-a">í˜„ì¬ ëŒ€ì¶œ ê¸ˆë¦¬ë³´ë‹¤ 1%p ì´ìƒ ë‚®ì€ ìƒí’ˆì´ ìˆê³ , ì”ì—¬ ëŒ€ì¶œ ê¸°ê°„ì´ 3ë…„ ì´ìƒ ë‚¨ì•˜ë‹¤ë©´ ëŒ€í™˜ì„ ê³ ë ¤í•  ë§Œí•©ë‹ˆë‹¤. ë‹¤ë§Œ ì¤‘ë„ìƒí™˜ìˆ˜ìˆ˜ë£Œ(ë³´í†µ ëŒ€ì¶œ í›„ 3ë…„ ì´ë‚´)ë¥¼ ë°˜ë“œì‹œ í™•ì¸í•˜ì„¸ìš”. ìˆ˜ìˆ˜ë£Œë¥¼ ê°ì•ˆí•´ë„ ì´ì ì ˆê°ì´ í¬ë©´ ì‹¤í–‰í•©ë‹ˆë‹¤.</div>
    </div>
    <div class="knowledge-item">
      <div class="ki-q">Q. ì›ë¦¬ê¸ˆê· ë“± vs ì›ê¸ˆê· ë“±, ë¬´ì—‡ì´ ìœ ë¦¬í•œê°€?</div>
      <div class="ki-a">ì´ì´ì ë¶€ë‹´ì€ ì›ê¸ˆê· ë“±ì´ ì ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ˆê¸° ìƒí™˜ ë¶€ë‹´ì´ í¬ê¸° ë•Œë¬¸ì— í˜„ê¸ˆíë¦„ ì—¬ìœ ê°€ ìˆëŠ” ë¶„ê»˜ ì í•©í•©ë‹ˆë‹¤. ì´ˆê¸° ë¶€ë‹´ì„ ì¤„ì´ê³  ì‹¶ë‹¤ë©´ ì›ë¦¬ê¸ˆê· ë“±ì„ ì„ íƒí•˜ë˜, ì—¬ìœ ìê¸ˆìœ¼ë¡œ ì¤‘ê°„ì¤‘ê°„ ì¤‘ë„ìƒí™˜í•˜ëŠ” ì „ëµì´ í˜„ì‹¤ì ì…ë‹ˆë‹¤.</div>
    </div>
  </div>

  <!-- ì™„ë£Œ CTA -->
  <div class="complete-section">
    <div class="complete-icon">âœ…</div>
    <div class="complete-title">ë¶„ì„ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!</div>
    <div class="complete-desc">ìƒì„¸ ë¦¬í¬íŠ¸ëŠ” ì…ë ¥í•˜ì‹  ì´ë©”ì¼ê³¼<br>ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ë°œì†¡ë©ë‹ˆë‹¤</div>
    <div class="cta-cards">
      <button class="btn btn-gold" onclick="window.open('https://moneya-frontend.vercel.app','_blank')">ğŸ¤– AIë¨¸ë‹ˆì•¼ ì‹œì‘í•˜ê¸°</button>
      <button class="btn btn-primary" onclick="window.open('https://owant.netlify.app/diagnosis/','_blank')">ğŸ“Š ë¬´ë£Œ ì¬ë¬´ì§„ë‹¨ í•´ë³´ê¸°</button>
      <button class="btn btn-outline" onclick="window.open('https://ohwant-hub.netlify.app','_blank')">ğŸ”— ì˜¤ìƒì—´ CFP ë” ì•Œì•„ë³´ê¸°</button>
      <button class="btn btn-gray" onclick="location.reload()">ğŸ”„ ë‹¤ì‹œ ë¶„ì„í•˜ê¸°</button>
    </div>
  </div>

  <div class="disclaimer">
    â€» ë³¸ ë¶„ì„ì€ ì…ë ¥í•˜ì‹  ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ ì°¸ê³ ìš© ì‹œë®¬ë ˆì´ì…˜ì´ë©°, ì‹¤ì œ ê¸ˆìœµ ì˜ì‚¬ê²°ì •ì€ ì „ë¬¸ê°€ ìƒë‹´ì„ ê¶Œì¥í•©ë‹ˆë‹¤.<br>
    Â© ì˜¤ì›íŠ¸ê¸ˆìœµì—°êµ¬ì†Œ Â· CFP ì˜¤ìƒì—´
  </div>
</div>

</div>

<script>
let gender = '';
function setGender(g){
  gender = g;
  document.getElementById('gM').style.background = g==='ë‚¨' ? '#0d9488' : '#fff';
  document.getElementById('gM').style.color = g==='ë‚¨' ? '#fff' : '#0d9488';
  document.getElementById('gF').style.background = g==='ì—¬' ? '#0d9488' : '#fff';
  document.getElementById('gF').style.color = g==='ì—¬' ? '#fff' : '#0d9488';
}

let analysisData = {};

function showStep(n){
  document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
  document.getElementById('step'+n).classList.add('active');
  document.getElementById('step'+n).classList.add('fade-in');
  const pcts = [25,50,75,100];
  document.getElementById('progFill').style.width = pcts[n-1]+'%';
  document.getElementById('progText').textContent = n+'/4';
  window.scrollTo({top:0,behavior:'smooth'});
}

function fmt(n){ return n.toLocaleString(); }

function analyze(){
  const mb = parseFloat(document.getElementById('mortBal').value)||0;
  const mr = parseFloat(document.getElementById('mortRate').value)||0;
  const cb = parseFloat(document.getElementById('credBal').value)||0;
  const cr = parseFloat(document.getElementById('credRate').value)||0;
  const income = parseFloat(document.getElementById('monthIncome').value)||0;
  const pay = parseFloat(document.getElementById('monthPay').value)||0;

  if(!mb && !cb){alert('ëŒ€ì¶œ ì •ë³´ë¥¼ 1ê°œ ì´ìƒ ì…ë ¥í•´ì£¼ì„¸ìš”');return;}
  if(!income){alert('ì›” ì†Œë“ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');return;}
  if(!pay){alert('ì›” ìƒí™˜ ê°€ëŠ¥ ê¸ˆì•¡ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');return;}

  const totalDebt = mb + cb;
  const monthlyInterestMort = Math.round(mb * mr / 100 / 12);
  const monthlyInterestCred = Math.round(cb * cr / 100 / 12);
  const monthlyInterest = monthlyInterestMort + monthlyInterestCred;
  const yearlyPay = pay * 12;
  const dsr = Math.round((yearlyPay / (income * 12)) * 100);
  const yearlyInterest = Math.round(mb*mr/100 + cb*cr/100);
  
  // ìƒí™˜ ê¸°ê°„ ì¶”ì • (ì›ë¦¬ê¸ˆê· ë“± ê¸°ì¤€ ê·¼ì‚¬)
  const avgRate = totalDebt>0 ? (mb*mr + cb*cr) / totalDebt / 100 : 0;
  const monthRate = avgRate / 12;
  let repayMonths = 0;
  if(pay > monthlyInterest && totalDebt > 0){
    repayMonths = Math.ceil(Math.log(pay/(pay - totalDebt*monthRate)) / Math.log(1+monthRate));
    if(repayMonths < 0 || !isFinite(repayMonths)) repayMonths = Math.ceil(totalDebt / pay);
  } else if(pay > 0){
    repayMonths = Math.ceil(totalDebt / pay);
  }
  const repayYears = Math.round(repayMonths / 12);

  // ì‹ ìš©ëŒ€ì¶œ ë¨¼ì € ìƒí™˜ ì‹œ ì ˆê°
  const savedInterestYear = cb > 0 ? Math.round(cb * cr / 100) : 0;
  const savedInterest10y = savedInterestYear * Math.min(10, repayYears);

  analysisData = {mb,mr,cb,cr,income,pay,totalDebt,monthlyInterest,dsr,yearlyInterest,repayYears,repayMonths,savedInterestYear,savedInterest10y,monthlyInterestMort,monthlyInterestCred};

  // 1/2 ê²°ê³¼ ë Œë”ë§
  let dsrStatus = dsr <= 30 ? 'ì•ˆì „' : dsr <= 40 ? 'ì£¼ì˜' : 'ìœ„í—˜';
  let dsrClass = dsr <= 30 ? 'success' : dsr <= 40 ? '' : 'danger';

  document.getElementById('resultBasic').innerHTML = `
    <div class="result-title">ğŸ“Š ëŒ€ì¶œ í˜„í™© ë¶„ì„</div>
    <div class="result-row"><span class="rr-label">ì´ ëŒ€ì¶œ ì”ì•¡</span><span class="rr-value danger">${fmt(totalDebt)}ë§Œì› (${(totalDebt/10000).toFixed(1)}ì–µì›)</span></div>
    <div class="result-row"><span class="rr-label">ë‹´ë³´ëŒ€ì¶œ ì›” ì´ì</span><span class="rr-value">${fmt(monthlyInterestMort)}ë§Œì›</span></div>
    <div class="result-row"><span class="rr-label">ì‹ ìš©ëŒ€ì¶œ ì›” ì´ì</span><span class="rr-value">${fmt(monthlyInterestCred)}ë§Œì›</span></div>
    <div class="result-row"><span class="rr-label">ì´ ì›” ì´ì ë¹„ìš©</span><span class="rr-value danger">${fmt(monthlyInterest)}ë§Œì›</span></div>
    <div class="result-row"><span class="rr-label">ì—°ê°„ ì´ì ë¹„ìš©</span><span class="rr-value">${fmt(yearlyInterest)}ë§Œì›</span></div>
    <div class="result-row"><span class="rr-label">DSR (ì´ë¶€ì±„ì›ë¦¬ê¸ˆìƒí™˜ë¹„ìœ¨)</span><span class="rr-value ${dsrClass}">${dsr}% (${dsrStatus})</span></div>
    <div class="result-row"><span class="rr-label">ì˜ˆìƒ ì™„ì „ ìƒí™˜</span><span class="rr-value highlight">ì•½ ${repayYears}ë…„</span></div>
  `;

  let dsrMsg = '';
  if(dsr <= 30) dsrMsg = `DSR ${dsr}%ë¡œ ì•ˆì „í•œ ìˆ˜ì¤€ì…ë‹ˆë‹¤. í˜„ì¬ ìƒí™˜ ê³„íšì„ ìœ ì§€í•˜ì‹œë©´ ë©ë‹ˆë‹¤.`;
  else if(dsr <= 40) dsrMsg = `DSR ${dsr}%ë¡œ ì£¼ì˜ê°€ í•„ìš”í•©ë‹ˆë‹¤. ì¶”ê°€ ëŒ€ì¶œì€ ìì œí•˜ì‹œê³ , ìƒí™˜ì•¡ì„ ì¡°ê¸ˆì”© ëŠ˜ë ¤ë³´ì„¸ìš”.`;
  else dsrMsg = `DSR ${dsr}%ë¡œ ìœ„í—˜ ìˆ˜ì¤€ì…ë‹ˆë‹¤! ê¸ˆìœµë‹¹êµ­ ê·œì œ ê¸°ì¤€(40%)ì„ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤. ì¦‰ì‹œ ìƒí™˜ ì „ëµ ì¬ì¡°ì •ì´ í•„ìš”í•©ë‹ˆë‹¤.`;

  document.getElementById('insightDsr').innerHTML = `
    <span class="insight-icon">${dsr<=30?'âœ…':'âš ï¸'}</span>
    <span class="insight-text"><b>DSR ì§„ë‹¨:</b> ${dsrMsg}</span>
  `;
  document.getElementById('insightDsr').className = dsr<=30 ? 'insight' : 'insight amber';

  showStep(2);
}

function submitDB(){
  const name = document.getElementById('userName').value.trim();
  const phone = document.getElementById('userPhone').value.trim();
  const email = document.getElementById('userEmail').value.trim();
  if(!name){alert('ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');return;}
  if(!phone){alert('ì „í™”ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”');return;}
  if(!email){alert('ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');return;}

  // Webhook ì „ì†¡
  const payload = {
    ìœ ì…ê²½ë¡œ: 'ëŒ€ì¶œë¶„ì„',
    ì´ë¦„: name,
    ì„±ë³„: gender,
    ì „í™”ë²ˆí˜¸: phone,
    ì´ë©”ì¼: email,
    ë‹´ë³´ëŒ€ì¶œì”ì•¡: analysisData.mb+'ë§Œì›',
    ë‹´ë³´ëŒ€ì¶œê¸ˆë¦¬: analysisData.mr+'%',
    ì‹ ìš©ëŒ€ì¶œì”ì•¡: analysisData.cb+'ë§Œì›',
    ì‹ ìš©ëŒ€ì¶œê¸ˆë¦¬: analysisData.cr+'%',
    ì›”ì†Œë“: analysisData.income+'ë§Œì›',
    ì›”ìƒí™˜ì•¡: analysisData.pay+'ë§Œì›',
    ì´ë¶€ì±„: analysisData.totalDebt+'ë§Œì›',
    DSR: analysisData.dsr+'%',
    timestamp: new Date().toISOString()
  };

  fetch('https://hook.eu1.make.com/gqxc1xxpz1x61pxfk996ollf00r0oiu9', {
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body: JSON.stringify(payload)
  }).catch(()=>{});

  // ë‚˜ë¨¸ì§€ 1/2 ê²°ê³¼ ë Œë”ë§
  const d = analysisData;
  const priorityTarget = d.cr > d.mr ? 'ì‹ ìš©ëŒ€ì¶œ' : 'ë‹´ë³´ëŒ€ì¶œ';
  const priorityRate = d.cr > d.mr ? d.cr : d.mr;
  const priorityBal = d.cr > d.mr ? d.cb : d.mb;

  document.getElementById('resultStrategy').innerHTML = `
    <div class="result-title">ğŸ¯ ìµœì  ìƒí™˜ ì „ëµ</div>
    <div class="result-row"><span class="rr-label">1ìˆœìœ„ ìƒí™˜ ëŒ€ìƒ</span><span class="rr-value danger">${priorityTarget} (${priorityRate}%)</span></div>
    <div class="result-row"><span class="rr-label">1ìˆœìœ„ ìƒí™˜ ì‹œ ì—°ê°„ ì´ì ì ˆê°</span><span class="rr-value success">${fmt(d.savedInterestYear)}ë§Œì›</span></div>
    <div class="result-row"><span class="rr-label">10ë…„ê°„ ì´ ì´ì ì ˆê° íš¨ê³¼</span><span class="rr-value highlight">${fmt(d.savedInterest10y)}ë§Œì›</span></div>
    <div class="result-row"><span class="rr-label">í˜„ì¬ ì›” ìƒí™˜ì•¡ ì¤‘ ì´ì ë¹„ì¤‘</span><span class="rr-value">${d.pay>0?Math.round(d.monthlyInterest/d.pay*100):0}%</span></div>
  `;

  // ìƒí™˜ íƒ€ì„ë¼ì¸
  const phase1Months = d.cb > 0 ? Math.ceil(d.cb / d.pay) : 0;
  const phase1Years = Math.round(phase1Months / 12 * 10) / 10;
  const phase2Months = d.mb > 0 ? Math.ceil(d.mb / d.pay) : 0;
  const phase2Years = Math.round(phase2Months / 12 * 10) / 10;

  document.getElementById('resultTimeline').innerHTML = `
    <div class="result-title">ğŸ“… ìƒí™˜ ë¡œë“œë§µ</div>
    ${d.cb > 0 ? `<div class="result-row"><span class="rr-label">Phase 1: ì‹ ìš©ëŒ€ì¶œ ì§‘ì¤‘ ìƒí™˜</span><span class="rr-value">ì•½ ${phase1Years}ë…„</span></div>` : ''}
    ${d.mb > 0 ? `<div class="result-row"><span class="rr-label">Phase 2: ë‹´ë³´ëŒ€ì¶œ ìƒí™˜</span><span class="rr-value">ì•½ ${phase2Years}ë…„</span></div>` : ''}
    <div class="result-row"><span class="rr-label">ì™„ì „ ìƒí™˜ ëª©í‘œ</span><span class="rr-value highlight">ì•½ ${d.repayYears}ë…„ í›„</span></div>
    <div class="result-row"><span class="rr-label">ì›” ìƒí™˜ í›„ ê°€ìš© ì†Œë“</span><span class="rr-value success">${fmt(d.income - d.pay)}ë§Œì›</span></div>
  `;

  // AI ì¸ì‚¬ì´íŠ¸
  let aiMsg = '';
  if(d.cr > d.mr && d.cb > 0){
    aiMsg = `ê¸ˆë¦¬ê°€ ë†’ì€ ì‹ ìš©ëŒ€ì¶œ(${d.cr}%)ì„ ë¨¼ì € ìƒí™˜í•˜ì„¸ìš”. ${fmt(d.cb)}ë§Œì› ìƒí™˜ ì™„ë£Œ ì‹œ ì—° ${fmt(d.savedInterestYear)}ë§Œì› ì´ì ì ˆê°! ì´í›„ ì ˆê°ëœ ì´ìë¶„ì„ ë‹´ë³´ëŒ€ì¶œ ì¶”ê°€ ìƒí™˜ì— íˆ¬ì…í•˜ë©´ ì´ ìƒí™˜ ê¸°ê°„ì„ í¬ê²Œ ë‹¨ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.`;
  } else if(d.mb > 0){
    aiMsg = `ë‹´ë³´ëŒ€ì¶œ ì¤‘ì‹¬ì˜ ë¶€ì±„ êµ¬ì¡°ì…ë‹ˆë‹¤. ê¸ˆë¦¬ ì¸í•˜ ìš”êµ¬ê¶Œ í™œìš©(ì—° 0.3~0.5%p ì¸í•˜ ê°€ëŠ¥)ê³¼ ëŒ€í™˜ëŒ€ì¶œì„ ê²€í† í•˜ì„¸ìš”. ì›” ${fmt(Math.round(d.pay*0.1))}ë§Œì›ë§Œ ì¶”ê°€ ìƒí™˜í•´ë„ ìƒí™˜ ê¸°ê°„ì´ ì•½ ${Math.round(d.repayYears*0.15)}ë…„ ë‹¨ì¶•ë©ë‹ˆë‹¤.`;
  } else {
    aiMsg = `í˜„ì¬ ìƒí™˜ ê³„íšì„ ê¾¸ì¤€íˆ ìœ ì§€í•˜ì‹œë©´ ë©ë‹ˆë‹¤. ì—¬ìœ ìê¸ˆì´ ìƒê¸¸ ë•Œë§ˆë‹¤ ì¤‘ë„ìƒí™˜í•˜ë©´ ì´ì ì ˆê° íš¨ê³¼ê°€ í½ë‹ˆë‹¤.`;
  }

  document.getElementById('insightAI').innerHTML = `
    <span class="insight-icon">ğŸ’¡</span>
    <span class="insight-text"><b>CFP ì˜¤ìƒì—´ ì¶”ì²œ:</b> ${aiMsg}</span>
  `;

  showStep(4);
}
</script>
</body>
</html>
