<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
<title>ì¬ë¬´ë¶„ì„ | ì˜¤ì›íŠ¸ê¸ˆìœµì—°êµ¬ì†Œ</title>
<meta property="og:title" content="ë‚´ ì¬ë¬´ ìƒíƒœëŠ” ëª‡ ì ì¼ê¹Œ?">
<meta property="og:description" content="ìì‚°Â·ë¶€ì±„Â·ìˆ˜ì…Â·ì§€ì¶œ ì¢…í•© ë¶„ì„ìœ¼ë¡œ ì¬ë¬´ ì²´ë ¥ì„ í™•ì¸í•˜ì„¸ìš” â€” CFP ì˜¤ìƒì—´">
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">
<style>
:root{--pri:#1e3a5f;--acc:#2563eb;--teal:#0d9488;--gold:#d4a853;--bg:#f4f6f8;--card:#fff;--txt:#333;--sub:#888;--border:#e5e7eb;}
*{margin:0;padding:0;box-sizing:border-box;}body{font-family:'Noto Sans KR',sans-serif;background:var(--bg);-webkit-font-smoothing:antialiased;}
.wrap{max-width:480px;margin:0 auto;background:var(--bg);min-height:100vh;}
.hero{background:linear-gradient(135deg,#1e3a5f 0%,#1e40af 50%,#1e3a8a 100%);padding:40px 20px 30px;text-align:center;position:relative;overflow:hidden;}
.hero::before{content:'';position:absolute;top:-30%;right:-20%;width:200px;height:200px;background:radial-gradient(circle,rgba(250,204,21,.12),transparent 70%);border-radius:50%;}
.hero-badge{display:inline-block;background:rgba(255,255,255,.15);border:1px solid rgba(255,255,255,.2);padding:6px 16px;border-radius:20px;font-size:12px;color:rgba(255,255,255,.9);font-weight:600;margin-bottom:12px;}
.hero h1{font-size:24px;font-weight:900;color:#fff;line-height:1.4;margin-bottom:8px;}.hero h1 em{font-style:normal;color:#fbbf24;}
.hero p{font-size:14px;color:rgba(255,255,255,.8);line-height:1.6;}
.hero-stat{display:flex;justify-content:center;gap:20px;margin-top:16px;}.hero-stat div{text-align:center;}.hero-stat .num{font-size:20px;font-weight:900;color:#fbbf24;}.hero-stat .lbl{font-size:10px;color:rgba(255,255,255,.7);margin-top:2px;}
.progress-bar{background:#fff;padding:12px 20px;border-bottom:1px solid var(--border);position:sticky;top:0;z-index:10;}.progress-inner{display:flex;align-items:center;gap:8px;}.progress-track{flex:1;height:6px;background:#e5e7eb;border-radius:3px;overflow:hidden;}.progress-fill{height:100%;background:linear-gradient(90deg,var(--acc),#3b82f6);border-radius:3px;transition:width .5s;}.progress-text{font-size:11px;font-weight:700;color:var(--acc);min-width:36px;text-align:right;}
.section{padding:16px 20px;display:none;}.section.active{display:block;}.section-title{font-size:16px;font-weight:800;color:var(--txt);margin-bottom:4px;display:flex;align-items:center;gap:6px;}.section-desc{font-size:12px;color:var(--sub);margin-bottom:16px;}
.input-card{background:var(--card);border-radius:16px;padding:20px;margin-bottom:12px;box-shadow:0 2px 8px rgba(0,0,0,.04);border:1px solid var(--border);}.input-card h3{font-size:14px;font-weight:700;color:var(--txt);margin-bottom:12px;display:flex;align-items:center;gap:6px;}
.field{margin-bottom:12px;}.field:last-child{margin-bottom:0;}.field label{display:block;font-size:12px;font-weight:600;color:#555;margin-bottom:4px;}.field .hint{font-size:10px;color:#999;margin-top:2px;}.field-row{display:flex;gap:10px;}.field-row .field{flex:1;margin-bottom:0;}
.input-wrap{position:relative;}.input-wrap input{width:100%;padding:12px 40px 12px 14px;border:1.5px solid var(--border);border-radius:10px;font-size:15px;font-family:inherit;outline:none;transition:border .2s;}.input-wrap input:focus{border-color:var(--acc);}.input-wrap .suffix{position:absolute;right:12px;top:50%;transform:translateY(-50%);font-size:13px;color:var(--sub);}
.result-card{background:linear-gradient(135deg,#eff6ff,#dbeafe);border:1px solid #93c5fd;border-radius:14px;padding:16px;margin-bottom:12px;}
.result-card.green{background:linear-gradient(135deg,#f0fdf4,#ecfdf5);border-color:#bbf7d0;}
.result-card.gold{background:linear-gradient(135deg,#fefce8,#fef9c3);border-color:#fde68a;}
.result-card.red{background:linear-gradient(135deg,#fef2f2,#fff1f2);border-color:#fecaca;}
.result-title{font-size:12px;font-weight:700;color:var(--acc);margin-bottom:10px;display:flex;align-items:center;gap:5px;}
.result-card.green .result-title{color:#16a34a;}.result-card.gold .result-title{color:#a16207;}.result-card.red .result-title{color:#dc2626;}
.result-row{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px dashed #93c5fd;}.result-row:last-child{border-bottom:none;}
.result-card.green .result-row{border-color:#bbf7d0;}.result-card.gold .result-row{border-color:#fde68a;}.result-card.red .result-row{border-color:#fecaca;}
.rr-label{font-size:12px;color:#555;}.rr-value{font-size:14px;font-weight:700;color:var(--txt);}.rr-value.danger{color:#dc2626;}.rr-value.success{color:#16a34a;}.rr-value.highlight{color:var(--pri);font-size:16px;}.rr-value.blue{color:var(--acc);font-size:18px;}
.insight{background:#eff6ff;border-radius:10px;padding:12px;margin-bottom:12px;display:flex;gap:8px;align-items:flex-start;}.insight.green{background:#f0fdf4;}.insight-icon{font-size:16px;flex-shrink:0;margin-top:1px;}.insight-text{font-size:12px;color:#1e3a8a;line-height:1.6;}.insight.green .insight-text{color:#166534;}.insight-text b{font-weight:700;}
/* ì˜ˆì‚° íŒŒì´ */
.budget-bar{display:flex;gap:2px;height:24px;border-radius:8px;overflow:hidden;margin:12px 0 6px;}
.budget-bar div{display:flex;align-items:center;justify-content:center;font-size:9px;font-weight:700;color:#fff;}
.budget-legend{display:flex;flex-wrap:wrap;gap:6px;}.budget-legend span{display:flex;align-items:center;gap:3px;font-size:10px;color:var(--sub);}.budget-legend i{width:8px;height:8px;border-radius:2px;display:inline-block;}
.blur-wrap{position:relative;}.blur-content{filter:blur(6px);pointer-events:none;user-select:none;}.blur-overlay{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:rgba(255,255,255,.7);border-radius:14px;z-index:2;}.blur-overlay p{font-size:14px;font-weight:700;color:var(--pri);margin-bottom:8px;}.blur-overlay .lock-icon{font-size:32px;margin-bottom:8px;}
.db-form{background:var(--card);border-radius:16px;padding:20px;margin-bottom:12px;box-shadow:0 2px 8px rgba(0,0,0,.04);border:1px solid var(--border);}.db-form h3{font-size:14px;font-weight:700;color:var(--txt);margin-bottom:4px;display:flex;align-items:center;gap:6px;}.db-form .sub{font-size:11px;color:var(--sub);margin-bottom:14px;}
.btn{width:100%;padding:14px;border:none;border-radius:12px;font-size:15px;font-weight:700;font-family:inherit;cursor:pointer;transition:all .2s;}.btn-primary{background:linear-gradient(135deg,var(--acc),#3b82f6);color:#fff;box-shadow:0 4px 12px rgba(37,99,235,.3);}.btn-primary:hover{transform:translateY(-1px);}.btn-gold{background:linear-gradient(135deg,#d4a853,#c9952e);color:#fff;}.btn-outline{background:#fff;color:var(--acc);border:1.5px solid var(--acc);}.btn-gray{background:#f3f4f6;color:#555;border:none;}.btn-teal{background:linear-gradient(135deg,#0d9488,#14b8a6);color:#fff;}
.knowledge{background:var(--card);border-radius:16px;padding:20px;margin-bottom:12px;box-shadow:0 2px 8px rgba(0,0,0,.04);border:1px solid var(--border);}.knowledge h3{font-size:14px;font-weight:700;margin-bottom:12px;display:flex;align-items:center;gap:6px;}.knowledge-item{padding:10px 0;border-bottom:1px solid #f3f4f6;}.knowledge-item:last-child{border-bottom:none;}.knowledge-item .ki-q{font-size:13px;font-weight:700;color:var(--pri);margin-bottom:4px;}.knowledge-item .ki-a{font-size:12px;color:#555;line-height:1.7;}
.complete-section{text-align:center;padding:30px 20px;}.complete-icon{font-size:48px;margin-bottom:12px;}.complete-title{font-size:18px;font-weight:800;color:var(--pri);margin-bottom:6px;}.complete-desc{font-size:13px;color:var(--sub);margin-bottom:20px;line-height:1.6;}.cta-cards{display:flex;flex-direction:column;gap:10px;margin-bottom:16px;}
.disclaimer{font-size:10px;color:#aaa;text-align:center;padding:12px 20px 30px;line-height:1.6;}
@keyframes fadeIn{from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:translateY(0);}}.fade-in{animation:fadeIn .4s ease forwards;}
</style>
</head>
<body>
<div class="wrap">
<div class="hero">
  <div class="hero-badge">ğŸ“Š 3ë¶„ ë¬´ë£Œ ì¬ë¬´ë¶„ì„</div>
  <h1>ë‚´ ì¬ë¬´ ìƒíƒœëŠ”<br><em>ëª‡ ì </em>ì¼ê¹Œ?</h1>
  <p>ìì‚°Â·ë¶€ì±„Â·ìˆ˜ì…Â·ì§€ì¶œ ì¢…í•© ë¶„ì„ìœ¼ë¡œ<br>ì¬ë¬´ ì²´ë ¥ì„ í™•ì¸í•˜ì„¸ìš”</p>
  <div class="hero-stat"><div><div class="num">20ë…„</div><div class="lbl">CFP ê²½ë ¥</div></div><div><div class="num">2,000+</div><div class="lbl">ìƒë‹´ ì‹¤ì </div></div><div><div class="num">3ë¶„</div><div class="lbl">ì†Œìš”ì‹œê°„</div></div></div>
</div>
<div class="progress-bar"><div class="progress-inner"><div class="progress-track"><div class="progress-fill" id="progFill" style="width:25%"></div></div><div class="progress-text" id="progText">1/4</div></div></div>

<!-- STEP 1 -->
<div class="section active" id="step1">
  <div class="section-title">ğŸ“Š ì¬ë¬´ ì •ë³´ ì…ë ¥</div>
  <div class="section-desc">ìì‚°Â·ë¶€ì±„ì™€ ìˆ˜ì…Â·ì§€ì¶œ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”</div>
  <div class="input-card">
    <h3>ğŸ‘¤ ê¸°ë³¸ ì •ë³´</h3>
    <div class="field-row">
      <div class="field"><label>ë‚˜ì´</label><div class="input-wrap"><input type="number" id="age" placeholder="37"><span class="suffix">ì„¸</span></div></div>
      <div class="field"><label>ì›” ì†Œë“ (ì„¸í›„)</label><div class="input-wrap"><input type="number" id="income" placeholder="520"><span class="suffix">ë§Œì›</span></div></div>
    </div>
  </div>
  <div class="input-card">
    <h3>ğŸ’° ìì‚°Â·ë¶€ì±„ (1ë‹¨ê³„: ì¬ë¬´ì§„ë‹¨)</h3>
    <div class="field-row">
      <div class="field"><label>ì´ ìì‚°</label><div class="input-wrap"><input type="number" id="assets" placeholder="65000"><span class="suffix">ë§Œì›</span></div><div class="hint">ë¶€ë™ì‚°+ê¸ˆìœµìì‚°</div></div>
      <div class="field"><label>ì´ ë¶€ì±„</label><div class="input-wrap"><input type="number" id="debt" placeholder="40000"><span class="suffix">ë§Œì›</span></div><div class="hint">ëŒ€ì¶œ ì”ì•¡ í•©ê³„</div></div>
    </div>
  </div>
  <div class="input-card">
    <h3>ğŸ’¸ ìˆ˜ì…Â·ì§€ì¶œ (2ë‹¨ê³„: ì¬ë¬´ë¶„ì„)</h3>
    <div class="field-row">
      <div class="field"><label>ì›” ê³ ì •ì§€ì¶œ</label><div class="input-wrap"><input type="number" id="fixedExp" placeholder="200"><span class="suffix">ë§Œì›</span></div><div class="hint">ì£¼ê±°+ë³´í—˜+í†µì‹ +êµìœ¡ ë“±</div></div>
      <div class="field"><label>ì›” ë³€ë™ì§€ì¶œ</label><div class="input-wrap"><input type="number" id="varExp" placeholder="150"><span class="suffix">ë§Œì›</span></div><div class="hint">ì‹ë¹„+êµí†µ+ì‡¼í•‘+ì—¬ê°€ ë“±</div></div>
    </div>
    <div class="field"><label>ì›” ì €ì¶•/íˆ¬ìì•¡</label><div class="input-wrap"><input type="number" id="monthSave" placeholder="130"><span class="suffix">ë§Œì›</span></div></div>
  </div>
  <button class="btn btn-primary" onclick="analyze()">ğŸ“Š ì¬ë¬´ë¶„ì„ ì‹œì‘</button>
</div>

<!-- STEP 2 -->
<div class="section" id="step2">
  <div class="section-title">ğŸ“Š ì¬ë¬´ë¶„ì„ ê²°ê³¼</div>
  <div class="section-desc">ìì‚°Â·ë¶€ì±„ì™€ ìˆ˜ì…Â·ì§€ì¶œì„ ì¢…í•© ë¶„ì„í–ˆìŠµë‹ˆë‹¤</div>
  <div id="resultBasic"></div>
  <div id="insightBasic"></div>
  <div class="blur-wrap"><div class="blur-overlay"><div class="lock-icon">ğŸ”’</div><p>ì €ì¶•íˆ¬ì í¬íŠ¸í´ë¦¬ì˜¤ ë³´ê¸°</p><button class="btn btn-primary" style="width:auto;padding:10px 24px;font-size:13px;" onclick="showStep(3)">ë¬´ë£Œë¡œ í™•ì¸í•˜ê¸° â†’</button></div>
    <div class="blur-content"><div class="result-card gold"><div class="result-title">ğŸ’¼ ì €ì¶•íˆ¬ì í¬íŠ¸í´ë¦¬ì˜¤</div><div class="result-row"><span class="rr-label">ì•ˆì „í˜•</span><span class="rr-value">40%</span></div></div></div>
  </div>
</div>

<!-- STEP 3 -->
<div class="section" id="step3">
  <div class="section-title">ğŸ“‹ ì‹¬í™” ë¶„ì„ ê²°ê³¼ ë°›ê¸°</div>
  <div class="section-desc">ì•„ë˜ ì •ë³´ë¥¼ ì…ë ¥í•˜ì‹œë©´ í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ ë³´ì—¬ë“œë¦½ë‹ˆë‹¤</div>
  <div class="db-form">
    <h3>ğŸ“© ë¶„ì„ ê²°ê³¼ ë°›ì„ ì •ë³´</h3><div class="sub">ì´ë©”ì¼ê³¼ ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ìƒì„¸ ë¦¬í¬íŠ¸ë¥¼ ë³´ë‚´ë“œë¦½ë‹ˆë‹¤</div>
    <div class="field"><label>ì´ë¦„</label><div class="input-wrap"><input type="text" id="userName" placeholder="í™ê¸¸ë™"></div></div>
    <div class="field"><label>ì„±ë³„</label><div style="display:flex;gap:8px;"><button class="btn btn-outline" id="gM" onclick="setGender('ë‚¨')" style="flex:1;padding:10px;font-size:13px;">ë‚¨ì„±</button><button class="btn btn-outline" id="gF" onclick="setGender('ì—¬')" style="flex:1;padding:10px;font-size:13px;">ì—¬ì„±</button></div></div>
    <div class="field"><label>ì „í™”ë²ˆí˜¸</label><div class="input-wrap"><input type="tel" id="userPhone" placeholder="010-1234-5678"></div></div>
    <div class="field"><label>ì´ë©”ì¼</label><div class="input-wrap"><input type="email" id="userEmail" placeholder="example@email.com"></div></div>
  </div>
  <button class="btn btn-primary" onclick="submitDB()">ğŸ”“ í¬íŠ¸í´ë¦¬ì˜¤ ë¶„ì„ ë³´ê¸°</button>
</div>

<!-- STEP 4 -->
<div class="section" id="step4">
  <div class="section-title">ğŸ’¼ ì €ì¶•íˆ¬ì í¬íŠ¸í´ë¦¬ì˜¤</div>
  <div class="section-desc">CFP ì˜¤ìƒì—´ì˜ ì¬ë¬´ ê°œì„  ì „ëµì…ë‹ˆë‹¤</div>
  <div id="resultPortfolio"></div>
  <div id="resultImprove"></div>
  <div id="insightAI"></div>
  <div class="knowledge">
    <h3>ğŸ“š ì¬ë¬´ë¶„ì„ í•„ìˆ˜ ì§€ì‹</h3>
    <div class="knowledge-item"><div class="ki-q">Q. ì¬ë¬´ê±´ì „ì„±ì˜ 3ëŒ€ ì§€í‘œëŠ”?</div><div class="ki-a">â‘  ë¶€ìì§€ìˆ˜(ìˆœìì‚°Ã·(ë‚˜ì´Ã—ì—°ì†Œë“)): 100% ì´ìƒì´ ëª©í‘œ â‘¡ ì €ì¶•ë¥ (ì €ì¶•Ã·ì†Œë“): 30% ì´ìƒ ê¶Œì¥ â‘¢ ë¶€ì±„ë¹„ìœ¨(ë¶€ì±„Ã·ìì‚°): 50% ì´í•˜ê°€ ì•ˆì „. ì´ 3ê°€ì§€ë¥¼ ë™ì‹œì— ê´€ë¦¬í•˜ë©´ ì¬ë¬´ ì²´ë ¥ì´ ê°•í•´ì§‘ë‹ˆë‹¤.</div></div>
    <div class="knowledge-item"><div class="ki-q">Q. 50-30-20 ì˜ˆì‚°ë²•ì¹™ì´ë€?</div><div class="ki-a">ì†Œë“ì˜ 50%ëŠ” í•„ìˆ˜ì§€ì¶œ(ì£¼ê±°+ì‹ë¹„+êµí†µ), 30%ëŠ” ì €ì¶•Â·íˆ¬ì, 20%ëŠ” ìƒí™œë¹„Â·ì—¬ê°€ì— ë°°ë¶„í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤. ì‹¤ì²œì´ ì–´ë ¤ìš°ë©´ ë¨¼ì € ì €ì¶•ì„ ìë™ì´ì²´ë¡œ ë¹¼ê³ , ë‚˜ë¨¸ì§€ë¡œ ìƒí™œí•˜ëŠ” 'ì„ ì €ì¶• í›„ì†Œë¹„' ì „ëµì„ ì“°ì„¸ìš”.</div></div>
    <div class="knowledge-item"><div class="ki-q">Q. ì§€ì¶œ ê´€ë¦¬ì˜ í•µì‹¬ì€?</div><div class="ki-a">ê³ ì •ì§€ì¶œì„ ì¤„ì´ëŠ” ê²ƒì´ ê°€ì¥ íš¨ê³¼ì ì…ë‹ˆë‹¤. ë³´í—˜ë£Œ ì¬ì¡°ì •, í†µì‹ ë¹„ ì•Œëœ°í° ì „í™˜, êµ¬ë…ì„œë¹„ìŠ¤ ì •ë¦¬ë§Œìœ¼ë¡œ ì›” 20~50ë§Œì› ì ˆê°ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. ë³€ë™ì§€ì¶œì€ ì£¼ê°„ ì˜ˆì‚°ì œë¥¼ ë„ì…í•˜ë©´ ìì—°ìŠ¤ëŸ½ê²Œ ì¤„ì–´ë“­ë‹ˆë‹¤.</div></div>
    <div class="knowledge-item"><div class="ki-q">Q. ì €ì¶•íˆ¬ì í¬íŠ¸í´ë¦¬ì˜¤ëŠ” ì–´ë–»ê²Œ ì§œëŠ”ê°€?</div><div class="ki-a">ë¹„ìƒì˜ˆë¹„ìê¸ˆ(CMA) â†’ ì„¸ì œí˜œíƒ(ì—°ê¸ˆì €ì¶•/ISA) â†’ ëª©ì ì €ì¶•(ì •ê¸°ì ê¸ˆ) â†’ íˆ¬ì(ETF/í€ë“œ) ìˆœì„œë¡œ ë°°ë¶„í•©ë‹ˆë‹¤. ë¹„ìƒìê¸ˆì´ ì—†ìœ¼ë©´ íˆ¬ìë¥¼ ì‹œì‘í•˜ì§€ ë§ˆì„¸ìš”. íˆ¬ì ë¹„ì¤‘ì€ (100-ë‚˜ì´)%ê°€ ê¸°ë³¸ ê°€ì´ë“œì…ë‹ˆë‹¤.</div></div>
  </div>
  <div class="complete-section">
    <div class="complete-icon">âœ…</div><div class="complete-title">ë¶„ì„ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!</div><div class="complete-desc">ìƒì„¸ ë¦¬í¬íŠ¸ëŠ” ì…ë ¥í•˜ì‹  ì´ë©”ì¼ê³¼<br>ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ë°œì†¡ë©ë‹ˆë‹¤</div>
    <div class="cta-cards">
      <button class="btn btn-gold" onclick="window.open('https://moneya-frontend.vercel.app','_blank')">ğŸ¤– AIë¨¸ë‹ˆì•¼ ì‹œì‘í•˜ê¸°</button>
      <button class="btn btn-teal" onclick="window.open('https://owant.netlify.app/diagnosis/','_blank')">ğŸ“Š ë¬´ë£Œ ì¬ë¬´ì§„ë‹¨ í•´ë³´ê¸°</button>
      <button class="btn btn-outline" onclick="window.open('https://ohwant-hub.netlify.app','_blank')">ğŸ”— ì˜¤ìƒì—´ CFP ë” ì•Œì•„ë³´ê¸°</button>
      <button class="btn btn-gray" onclick="location.reload()">ğŸ”„ ë‹¤ì‹œ ë¶„ì„í•˜ê¸°</button>
    </div>
  </div>
  <div class="disclaimer">â€» ë³¸ ë¶„ì„ì€ ì°¸ê³ ìš©ì´ë©°, ì‹¤ì œ ì¬ë¬´ ì˜ì‚¬ê²°ì •ì€ ì „ë¬¸ê°€ ìƒë‹´ì„ ê¶Œì¥í•©ë‹ˆë‹¤.<br>Â© ì˜¤ì›íŠ¸ê¸ˆìœµì—°êµ¬ì†Œ Â· CFP ì˜¤ìƒì—´</div>
</div>
</div>
<script>
let gender='',D={};
function setGender(g){gender=g;document.getElementById('gM').style.background=g==='ë‚¨'?'var(--acc)':'#fff';document.getElementById('gM').style.color=g==='ë‚¨'?'#fff':'var(--acc)';document.getElementById('gF').style.background=g==='ì—¬'?'var(--acc)':'#fff';document.getElementById('gF').style.color=g==='ì—¬'?'#fff':'var(--acc)';}
function showStep(n){document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));document.getElementById('step'+n).classList.add('active','fade-in');document.getElementById('progFill').style.width=[25,50,75,100][n-1]+'%';document.getElementById('progText').textContent=n+'/4';window.scrollTo({top:0,behavior:'smooth'});}
function fmt(n){return n>=10000?(n/10000).toFixed(1)+'ì–µ':n.toLocaleString()+'ë§Œì›';}

function analyze(){
  const age=parseFloat(document.getElementById('age').value)||0;
  const income=parseFloat(document.getElementById('income').value)||0;
  const assets=parseFloat(document.getElementById('assets').value)||0;
  const debt=parseFloat(document.getElementById('debt').value)||0;
  const fixedExp=parseFloat(document.getElementById('fixedExp').value)||0;
  const varExp=parseFloat(document.getElementById('varExp').value)||0;
  const monthSave=parseFloat(document.getElementById('monthSave').value)||0;
  if(!age||!income){alert('ê¸°ë³¸ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”');return;}

  const netAsset=assets-debt;
  const annualIncome=income*12;
  const richIndex=annualIncome>0&&age>0?Math.round((netAsset*10)/(age*annualIncome)*100):0;
  const debtRatio=assets>0?Math.round(debt/assets*100):0;
  const totalExp=fixedExp+varExp;
  const saveRate=income>0?Math.round(monthSave/income*100):0;
  const surplus=income-totalExp-monthSave;

  let level,house,emoji;
  if(richIndex<=0){level=1;house='í…íŠ¸';emoji='â›º';}
  else if(richIndex<=50){level=2;house='ì´ˆê°€ì§‘';emoji='ğŸ›–';}
  else if(richIndex<=100){level=3;house='í•œì˜¥';emoji='ğŸ ';}
  else if(richIndex<=200){level=4;house='ê³ ê¸‰ì–‘ì˜¥';emoji='ğŸ¡';}
  else{level=5;house='ê¶ì „';emoji='ğŸ°';}

  // ì˜ˆì‚° ë¹„ìœ¨
  const fixedPct=income>0?Math.round(fixedExp/income*100):0;
  const varPct=income>0?Math.round(varExp/income*100):0;
  const savePct=saveRate;
  const surplusPct=income>0?Math.round(surplus/income*100):0;

  D={age,income,assets,debt,netAsset,richIndex,debtRatio,fixedExp,varExp,totalExp,monthSave,saveRate,surplus,level,house,emoji,fixedPct,varPct,savePct,surplusPct};

  document.getElementById('resultBasic').innerHTML=`
    <div class="result-card">
      <div class="result-title">ğŸ“Š ìì‚°Â·ë¶€ì±„ ë¶„ì„ (1ë‹¨ê³„)</div>
      <div class="result-row"><span class="rr-label">ì´ ìì‚°</span><span class="rr-value">${fmt(assets)}</span></div>
      <div class="result-row"><span class="rr-label">ì´ ë¶€ì±„</span><span class="rr-value danger">${fmt(debt)}</span></div>
      <div class="result-row"><span class="rr-label">ìˆœìì‚°</span><span class="rr-value ${netAsset>=0?'success':'danger'}">${fmt(netAsset)}</span></div>
      <div class="result-row"><span class="rr-label">ë¶€ì±„ë¹„ìœ¨</span><span class="rr-value ${debtRatio>50?'danger':debtRatio>30?'':'success'}">${debtRatio}% ${debtRatio>50?'(ìœ„í—˜)':debtRatio>30?'(ì£¼ì˜)':'(ì–‘í˜¸)'}</span></div>
      <div class="result-row"><span class="rr-label">ë¶€ìì§€ìˆ˜</span><span class="rr-value blue">${richIndex}%</span></div>
      <div class="result-row"><span class="rr-label">ê¸ˆìœµì§‘ ë“±ê¸‰</span><span class="rr-value highlight">${emoji} ${level}ë‹¨ê³„ ${house}</span></div>
    </div>
    <div class="result-card ${saveRate>=30?'green':saveRate>=20?'gold':'red'}">
      <div class="result-title">ğŸ’¸ ìˆ˜ì…Â·ì§€ì¶œ ë¶„ì„ (2ë‹¨ê³„)</div>
      <div class="result-row"><span class="rr-label">ì›” ì†Œë“</span><span class="rr-value">${income}ë§Œì›</span></div>
      <div class="result-row"><span class="rr-label">ê³ ì •ì§€ì¶œ</span><span class="rr-value">${fixedExp}ë§Œì› (${fixedPct}%)</span></div>
      <div class="result-row"><span class="rr-label">ë³€ë™ì§€ì¶œ</span><span class="rr-value">${varExp}ë§Œì› (${varPct}%)</span></div>
      <div class="result-row"><span class="rr-label">ì €ì¶•/íˆ¬ì</span><span class="rr-value ${saveRate>=30?'success':'danger'}">${monthSave}ë§Œì› (${saveRate}%)</span></div>
      <div class="result-row"><span class="rr-label">ì‰ì—¬/ë¶€ì¡±</span><span class="rr-value ${surplus>=0?'success':'danger'}">${surplus>=0?'+':''}${surplus}ë§Œì›</span></div>
    </div>
    <div style="background:var(--card);border-radius:14px;padding:14px;margin-bottom:12px;border:1px solid var(--border);">
      <div style="font-size:12px;font-weight:700;color:var(--acc);margin-bottom:8px;">ğŸ’° ì›” ì˜ˆì‚° ë°°ë¶„</div>
      <div class="budget-bar">
        <div style="flex:${fixedPct};background:#3b82f6;">${fixedPct}%</div>
        <div style="flex:${varPct};background:#f59e0b;">${varPct}%</div>
        <div style="flex:${savePct};background:#22c55e;">${savePct}%</div>
        ${surplusPct>0?`<div style="flex:${surplusPct};background:#d1d5db;">${surplusPct}%</div>`:''}
      </div>
      <div class="budget-legend">
        <span><i style="background:#3b82f6;"></i>ê³ ì • ${fixedPct}%</span>
        <span><i style="background:#f59e0b;"></i>ë³€ë™ ${varPct}%</span>
        <span><i style="background:#22c55e;"></i>ì €ì¶• ${savePct}%</span>
        ${surplusPct>0?`<span><i style="background:#d1d5db;"></i>ì‰ì—¬ ${surplusPct}%</span>`:''}
      </div>
    </div>`;

  let msg=saveRate>=30?`ì €ì¶•ë¥  ${saveRate}%ë¡œ ìš°ìˆ˜í•©ë‹ˆë‹¤! í˜„ì¬ ì˜ˆì‚° ë°°ë¶„ì„ ìœ ì§€í•˜ë©´ì„œ íˆ¬ì ë¹„ì¤‘ì„ ì ì§„ì ìœ¼ë¡œ ë†’ì—¬ë³´ì„¸ìš”.`:saveRate>=20?`ì €ì¶•ë¥  ${saveRate}%ë¡œ ì–‘í˜¸í•˜ì§€ë§Œ 30% ëª©í‘œê¹Œì§€ ${30-saveRate}%ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤. ê³ ì •ì§€ì¶œ ì¤„ì´ê¸°ë¶€í„° ì‹œì‘í•˜ì„¸ìš”.`:`ì €ì¶•ë¥  ${saveRate}%ë¡œ ê°œì„ ì´ ì‹œê¸‰í•©ë‹ˆë‹¤. ê³ ì •ì§€ì¶œì„ ì ê²€í•˜ê³  'ì„ ì €ì¶• í›„ì†Œë¹„' ìë™ì´ì²´ë¥¼ ì„¤ì •í•˜ì„¸ìš”.`;
  document.getElementById('insightBasic').innerHTML=`<div class="insight"><span class="insight-icon">${saveRate>=30?'âœ…':'ğŸ’¡'}</span><span class="insight-text"><b>ì¬ë¬´ ì§„ë‹¨:</b> ${msg}</span></div>`;

  showStep(2);
}

function submitDB(){
  const name=document.getElementById('userName').value.trim();const phone=document.getElementById('userPhone').value.trim();const email=document.getElementById('userEmail').value.trim();
  if(!name||!phone||!email){alert('ëª¨ë“  ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”');return;}
  fetch('https://hook.eu1.make.com/gqxc1xxpz1x61pxfk996ollf00r0oiu9',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({ìœ ì…ê²½ë¡œ:'ì¬ë¬´ë¶„ì„',ì´ë¦„:name,ì„±ë³„:gender,ì „í™”ë²ˆí˜¸:phone,ì´ë©”ì¼:email,ë‚˜ì´:D.age+'ì„¸',ì›”ì†Œë“:D.income+'ë§Œì›',ì´ìì‚°:D.assets+'ë§Œì›',ì´ë¶€ì±„:D.debt+'ë§Œì›',ë¶€ìì§€ìˆ˜:D.richIndex+'%',ì €ì¶•ë¥ :D.saveRate+'%',ê¸ˆìœµì§‘ë“±ê¸‰:D.house,timestamp:new Date().toISOString()})}).catch(()=>{});

  // í¬íŠ¸í´ë¦¬ì˜¤
  let emerg,safe,balanced,growth;
  if(D.age<35){emerg=10;safe=25;balanced=35;growth=30;}
  else if(D.age<50){emerg=15;safe=35;balanced=30;growth=20;}
  else{emerg=20;safe=40;balanced=30;growth=10;}
  const eAmt=Math.round(D.monthSave*emerg/100);
  const sAmt=Math.round(D.monthSave*safe/100);
  const bAmt=Math.round(D.monthSave*balanced/100);
  const gAmt=D.monthSave-eAmt-sAmt-bAmt;

  document.getElementById('resultPortfolio').innerHTML=`
    <div class="result-card gold">
      <div class="result-title">ğŸ’¼ ì €ì¶•íˆ¬ì í¬íŠ¸í´ë¦¬ì˜¤ (ì›” ${D.monthSave}ë§Œì›)</div>
      <div class="budget-bar">
        <div style="flex:${emerg};background:#06b6d4;">${emerg}%</div>
        <div style="flex:${safe};background:#22c55e;">${safe}%</div>
        <div style="flex:${balanced};background:#eab308;">${balanced}%</div>
        <div style="flex:${growth};background:#ef4444;">${growth}%</div>
      </div>
      <div class="budget-legend" style="margin-bottom:10px;">
        <span><i style="background:#06b6d4;"></i>ë¹„ìƒ ${emerg}%</span>
        <span><i style="background:#22c55e;"></i>ì•ˆì „ ${safe}%</span>
        <span><i style="background:#eab308;"></i>ê· í˜• ${balanced}%</span>
        <span><i style="background:#ef4444;"></i>ì„±ì¥ ${growth}%</span>
      </div>
      <div class="result-row"><span class="rr-label">ğŸ”µ ë¹„ìƒì˜ˆë¹„ (CMA)</span><span class="rr-value">${eAmt}ë§Œì›/ì›”</span></div>
      <div class="result-row"><span class="rr-label">ğŸŸ¢ ì•ˆì „ (ì˜ˆê¸ˆ/ì—°ê¸ˆì €ì¶•)</span><span class="rr-value">${sAmt}ë§Œì›/ì›”</span></div>
      <div class="result-row"><span class="rr-label">ğŸŸ¡ ê· í˜• (ì±„ê¶Œí˜¼í•©ETF)</span><span class="rr-value">${bAmt}ë§Œì›/ì›”</span></div>
      <div class="result-row"><span class="rr-label">ğŸ”´ ì„±ì¥ (ì£¼ì‹ETF)</span><span class="rr-value">${gAmt}ë§Œì›/ì›”</span></div>
    </div>`;

  // ê°œì„  ì‹œë‚˜ë¦¬ì˜¤
  const add=Math.round(D.income*0.3)-D.monthSave;
  const save5yr=Math.round(D.monthSave*12*5*1.05);
  const saveMore5yr=add>0?Math.round((D.monthSave+add)*12*5*1.05):save5yr;
  document.getElementById('resultImprove').innerHTML=`
    <div class="result-card green">
      <div class="result-title">ğŸš€ 5ë…„ í›„ ìì‚° ì‹œë®¬ë ˆì´ì…˜</div>
      <div class="result-row"><span class="rr-label">í˜„ì¬ ì†ë„ ìœ ì§€ ì‹œ</span><span class="rr-value">${fmt(save5yr)} ì¶”ê°€</span></div>
      ${add>0?`<div class="result-row"><span class="rr-label">ì €ì¶•ë¥  30% ë‹¬ì„± ì‹œ (+${add}ë§Œì›/ì›”)</span><span class="rr-value success">${fmt(saveMore5yr)} ì¶”ê°€</span></div>`:''}
      <div class="result-row"><span class="rr-label">5ë…„ í›„ ì˜ˆìƒ ìˆœìì‚°</span><span class="rr-value highlight">${fmt(D.netAsset+save5yr)}</span></div>
    </div>`;

  let ai=D.saveRate<30&&D.surplus>0?`ì‰ì—¬ê¸ˆ ${D.surplus}ë§Œì› ì¤‘ ${Math.min(D.surplus,add)}ë§Œì›ì„ ì €ì¶•ì— ì¶”ê°€í•˜ë©´ ë°”ë¡œ ì €ì¶•ë¥  30%ì— ë„ë‹¬í•©ë‹ˆë‹¤. ìë™ì´ì²´ë¡œ ì„¤ì •í•˜ì„¸ìš”! `:D.saveRate<30?`ê³ ì •ì§€ì¶œ(${D.fixedPct}%)ì´ ë†’ìŠµë‹ˆë‹¤. ë³´í—˜ë£Œ ì¬ì¡°ì •, í†µì‹ ë¹„ ì ˆê°, êµ¬ë…ì„œë¹„ìŠ¤ ì •ë¦¬ë¡œ ì›” ${Math.round(D.fixedExp*0.1)}ë§Œì›ì€ ì ˆê° ê°€ëŠ¥í•©ë‹ˆë‹¤. `:'';
  ai+=`í¬íŠ¸í´ë¦¬ì˜¤ëŠ” ë¹„ìƒì˜ˆë¹„â†’ì•ˆì „â†’ê· í˜•â†’ì„±ì¥ ìˆœì„œë¡œ ë°°ë¶„í•©ë‹ˆë‹¤. ì—°ê¸ˆì €ì¶•(${sAmt}ë§Œì›/ì›”)ì€ ì„¸ì•¡ê³µì œ í˜œíƒë„ ë°›ìœ¼ë‹ˆ ì¼ì„ì´ì¡°ì…ë‹ˆë‹¤.`;
  document.getElementById('insightAI').innerHTML=`<div class="insight green"><span class="insight-icon">ğŸ’¡</span><span class="insight-text"><b>CFP ì˜¤ìƒì—´ ì¶”ì²œ:</b> ${ai}</span></div>`;

  showStep(4);
}
</script>
</body>
</html>
